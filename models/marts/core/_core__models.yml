version: 2

models:
# USERS DIMENSION TABLE #
  - name: dim_ga4__users
    description: '{{ doc("dim_ga4__users") }}'
    columns:
      - name: user_key
        description: '{{ doc("user_key") }}'
        tests:
          - unique

      - name: first_seen_timestamp
        description: '{{ doc("first_seen_timestamp") }}'

      - name: first_seen_date
        description: '{{ doc("first_seen_date") }}'

      - name: last_seen_timestamp
        description: '{{ doc("last_seen_timestamp") }}'

      - name: last_seen_date
        description: '{{ doc("last_seen_date") }}'

      - name: sessions
        description: '{{ doc("sessions") }}'

      - name: page_views
        description: '{{ doc("page_views") }}'

      - name: purchases
        description: '{{ doc("purchases") }}'

      # FIRST_GEO #
      - name: continent
        description: '{{ doc("continent") }}'

      - name: sub_continent
        description: '{{ doc("sub_continent") }}'

      - name: country
        description: '{{ doc("country") }}'

      - name: region
        description: '{{ doc("region") }}'

      - name: city
        description: '{{ doc("city") }}'

      # FIRST_DEVICE #
      - name: category
        description: '{{ doc("category") }}'

      - name: mobile_brand_name
        description: '{{ doc("mobile_brand_name") }}'

      - name: mobile_model_name
        description: '{{ doc("mobile_model_name") }}'

      - name: mobile_marketing_name
        description: '{{ doc("mobile_marketing_name") }}'

      - name: mobile_os_hardware_model
        description: '{{ doc("mobile_os_hardware_model") }}'

      - name: operating_system
        description: '{{ doc("operating_system") }}'

      - name: operating_system_version
        description: '{{ doc("operating_system_version") }}'

      - name: vendor_id
        description: '{{ doc("vendor_id") }}'

      - name: advertising_id
        description: '{{ doc("advertising_id") }}'

      - name: language
        description: '{{ doc("language") }}'

      - name: is_limiting_ad_tracking
        description: '{{ doc("is_limiting_ad_tracking") }}'

      - name: time_zone_offset_seconds
        description: '{{ doc("time_zone_offset_seconds") }}'

      - name: browser
        description: '{{ doc("browser") }}'

      - name: browser_version
        description: '{{ doc("browser_version") }}'

      # FIRST_TRAFFIC_SOURCE #
      - name: medium
        description: '{{ doc("medium") }}'

      - name: name
        description: '{{ doc("name") }}'

      - name: source
        description: '{{ doc("source") }}'

      # LAST_GEO #
      - name: continent
        description: '{{ doc("continent") }}'

      - name: sub_continent
        description: '{{ doc("sub_continent") }}'

      - name: country
        description: '{{ doc("country") }}'

      - name: region
        description: '{{ doc("region") }}'

      - name: city
        description: '{{ doc("city") }}'

      # LAST_DEVICE #
      - name: category
        description: '{{ doc("category") }}'

      - name: mobile_brand_name
        description: '{{ doc("mobile_brand_name") }}'

      - name: mobile_model_name
        description: '{{ doc("mobile_model_name") }}'

      - name: mobile_marketing_name
        description: '{{ doc("mobile_marketing_name") }}'

      - name: mobile_os_hardware_model
        description: '{{ doc("mobile_os_hardware_model") }}'

      - name: operating_system
        description: '{{ doc("operating_system") }}'

      - name: operating_system_version
        description: '{{ doc("operating_system_version") }}'

      - name: vendor_id
        description: '{{ doc("vendor_id") }}'

      - name: advertising_id
        description: '{{ doc("advertising_id") }}'

      - name: language
        description: '{{ doc("language") }}'

      - name: is_limiting_ad_tracking
        description: '{{ doc("is_limiting_ad_tracking") }}'

      - name: time_zone_offset_seconds
        description: '{{ doc("time_zone_offset_seconds") }}'

      - name: browser
        description: '{{ doc("browser") }}'

      - name: browser_version
        description: '{{ doc("browser_version") }}'

      # LAST_TRAFFIC_SOURCE #
      - name: medium
        description: '{{ doc("medium") }}'

      - name: name
        description: '{{ doc("name") }}'

      - name: source
        description: '{{ doc("source") }}'

      #########################
      - name: first_page_location
        description: '{{ doc("first_page_location") }}'

      - name: first_page_hostname
        description: '{{ doc("first_page_hostname") }}'

      - name: first_page_referrer
        description: '{{ doc("first_page_referrer") }}'

      - name: last_page_location
        description: '{{ doc("last_page_location") }}'

      - name: last_page_hostname
        description: '{{ doc("last_page_hostname") }}'

      - name: last_page_referrer
        description: '{{ doc("last_page_referrer") }}'

# SESSIONS DIMENSION TABLE #
  - name: dim_ga4__sessions
    description: '{{ doc("dim_ga4__sessions") }}'
    columns:
      - name: session_key
        description: '{{ doc("session_key") }}'
        tests:
          - unique

      - name: ga_session_number
        description: '{{ doc("ga_session_number") }}'

      - name: landing_page
        description: '{{ doc("landing_page") }}'

      - name: landing_page_hostname
        description: '{{ doc("landing_page_hostname") }}'

      # GEO #
      - name: continent
        description: '{{ doc("continent") }}'

      - name: sub_continent
        description: '{{ doc("sub_continent") }}'

      - name: country
        description: '{{ doc("country") }}'

      - name: region
        description: '{{ doc("region") }}'

      - name: city
        description: '{{ doc("city") }}'

      # DEVICE #
      - name: category
        description: '{{ doc("category") }}'

      - name: mobile_brand_name
        description: '{{ doc("mobile_brand_name") }}'

      - name: mobile_model_name
        description: '{{ doc("mobile_model_name") }}'

      - name: mobile_marketing_name
        description: '{{ doc("mobile_marketing_name") }}'

      - name: mobile_os_hardware_model
        description: '{{ doc("mobile_os_hardware_model") }}'

      - name: operating_system
        description: '{{ doc("operating_system") }}'

      - name: operating_system_version
        description: '{{ doc("operating_system_version") }}'

      - name: vendor_id
        description: '{{ doc("vendor_id") }}'

      - name: advertising_id
        description: '{{ doc("advertising_id") }}'

      - name: language
        description: '{{ doc("language") }}'

      - name: is_limiting_ad_tracking
        description: '{{ doc("is_limiting_ad_tracking") }}'

      - name: time_zone_offset_seconds
        description: '{{ doc("time_zone_offset_seconds") }}'

      - name: browser
        description: '{{ doc("browser") }}'

      - name: browser_version
        description: '{{ doc("browser_version") }}'

      # TRAFFIC_SOURCE #
      - name: medium
        description: '{{ doc("medium") }}'

      - name: name
        description: '{{ doc("name") }}'

      - name: source
        description: '{{ doc("source") }}'

      #########################
      - name: row_num
        description: '{{ doc("row_num") }}'

      - name: source
        description: '{{ doc("source") }}'

      - name: medium
        description: '{{ doc("medium") }}'

      - name: default_channel_grouping
        description: '{{ doc("default_channel_grouping") }}'

# SESSIONS FACT TABLE #
  - name: fct_ga4__sessions
    description: '{{ doc("fct_ga4__sessions") }}'
    columns:
      - name: session_key
        description: '{{ doc("session_key") }}'
        tests:
          - unique

      - name: user_key
        description: '{{ doc("user_key") }}'

      - name: session_start_date
        description: '{{ doc("session_start_date") }}'

      - name: session_start_timestamp
        description: '{{ doc("session_start_timestamp") }}'

      - name: page_views
        description: '{{ doc("page_views") }}'

      - name: sum_event_value_in_usd
        description: '{{ doc("sum_event_value_in_usd") }}'

      - name: session_engaged
        description: '{{ doc("session_engaged") }}'

# PAGES FACT TABLE #
  - name: fct_ga4__pages
    description: '{{ doc("fct_ga4__pages") }}'
    columns:
      - name: event_date
        description: '{{ doc("event_date") }}'

      - name: hour
        description: '{{ doc("hour") }}'

      - name: page_location
        description: '{{ doc("page_location") }}'

      - name: page_title
        description: '{{ doc("page_title") }}'

      - name: page_views
        description: '{{ doc("page_views") }}'

      - name: users
        description: '{{ doc("users") }}'

      - name: new_users
        description: '{{ doc("new_users") }}'

      - name: entrances
        description: '{{ doc("entrances") }}'

      - name: exits
        description: '{{ doc("exits") }}'

      - name: time_on_page
        description: '{{ doc("time_on_page") }}'

      - name: scroll_events
        description: '{{ doc("scroll_events") }}'